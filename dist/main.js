(()=>{"use strict";let e=[],t="";function n(n){var l;"*"==n||"/"==n||"+"==n||"-"==n?(l=n,t.length>0&&!isNaN(Number(t))?(e.push(t),t="",3==e.length&&r(),e.push(l)):"+"!=e[1]&&"-"==l||0==t.length&&"-"==l?t+=l:e.length>0&&(e[1]=l)):"del"==n?(e=[],t=""):"."==n?-1==t.indexOf(".")&&(t+="."):"Enter"==n?!isNaN(t)&&2==e.length&&t.length>0&&(e.push(t),t="",r()):"Backspace"==n?t.length>0?t=t.slice(0,t.length-1):2==e.length&&(e.pop(),t=e.pop()+""):(1==e.length&&e.pop(),t+=n)}function r(){let t=e.pop(),n=function(e,t,n){switch(e){case"+":return function(e,t){return e+t}(Number(t),Number(n));case"-":return function(e,t){return e-t}(t,n);case"*":return function(e,t){return e*t}(t,n);case"/":return function(e,t){return 0!=t?e/t:"error"}(t,n);default:return null}}(e.pop(),e.pop(),t);"error"!=n?(n>=1e14?n=n.toExponential(9):n.toString().length>13&&(n=n.toFixed(3)),e.push(n)):alert("Error! you can't divide by 0")}const l=document.querySelector(".grid-buttons"),u=document.querySelector(".display-input"),a=document.getElementById("display-input");let o=document.querySelector(".theme"),c=document.querySelector(".toggle"),s=document.querySelector(".point"),i=document.querySelector(".title"),d=document.querySelector(".calc-display"),m=document.querySelector(".display-input"),p=document.querySelector(".grid-buttons"),h=document.querySelectorAll(".btn"),y=document.querySelector(".equal"),g=document.querySelector(".reset"),b=document.querySelector(".del");function f(){let n=e.join(" ")+" "+t;n.includes("NaN")||n.includes("null")?(alert("Error!"),n=0):" "==n&&(n=0),a.textContent=n,function(e){for(;a.offsetWidth>u.offsetWidth;)e=e.slice(1),a.textContent=e}(n)}function N(e){document.body.className=`body_theme${e}`,i.className=`title h1_theme${e}`,o.className=`theme theme${e}`,c.className=`toggle toggle_theme${e}`,d.className=`calc-display calc-display_theme${e}`,m.className=`display-input display-input_theme${e}`,p.className=`grid-buttons grid-buttons_theme${e}`,y.className=`btn equal equal_theme${e}`,g.className=`btn reset reset_theme${e}`,b.className=`btn del del_theme${e}`;for(let t=0;t<h.length;t++)"del"!=h[t].attributes[0].value&&"Enter"!=h[t].attributes[0].value&&"Backspace"!=h[t].attributes[0].value&&(h[t].className=`btn btn_theme${e}`)}window.addEventListener("keydown",(e=>{const t=document.querySelector(`button[data-key="${e.key}"]`);null!=t&&(n(t.attributes[0].value),f())})),l.addEventListener("click",(e=>{"data-key"==e.target.attributes[0].name&&(n(e.target.attributes[0].value),f())})),c.addEventListener("click",(e=>{"three"==e.target.id?(s.style="transform: translateX(49px)",N(3)):"two"==e.target.id?(s.style="transform: translateX(24px)",N(2)):(s.style="transform: translateX(0px)",N(1))}))})();