(()=>{"use strict";const e=document.querySelector(".grid-buttons"),t=document.querySelector(".display-input"),n=document.getElementById("display-input");let r=[],l="",u=document.querySelector(".theme"),a=document.querySelector(".toggle"),o=document.querySelector(".point"),c=document.querySelector(".title"),s=document.querySelector(".calc-display"),i=document.querySelector(".display-input"),d=document.querySelector(".grid-buttons"),m=document.querySelectorAll(".btn"),p=document.querySelector(".equal"),h=document.querySelector(".reset"),y=document.querySelector(".del");function g(e){"*"==e||"/"==e||"+"==e||"-"==e?l.length>0&&"NaN"!=Number(l).toString()?(r.push(l),l="",3==r.length&&f(),r.push(e)):"*"!=r[1]&&"/"!=r[1]||"-"!=e?r.length>0?r[1]=e:0==l.length&&"-"==e&&(l+=e):l+=e:"del"==e?(r=[],l=""):"."==e?-1==l.indexOf(".")&&(l+="."):"Enter"==e?!isNaN(l)&&2==r.length&&l.length>0&&(r.push(l),l="",f()):"Backspace"==e?l.length>0?l=l.slice(0,l.length-1):2==r.length&&(r.pop(),l=r.pop()+""):(1==r.length&&r.pop(),l+=e)}function b(){let e=r.join(" ")+" "+l;for(console.log(e),e.includes("NaN")||e.includes("null")?(alert("Error!"),e=0):" "==e&&(e=0),n.textContent=e;n.offsetWidth>t.offsetWidth;)e=e.slice(1),n.textContent=e}function f(){let e=r.pop(),t=function(e,t,n){switch(e){case"+":return function(e,t){return e+t}(Number(t),Number(n));case"-":return function(e,t){return e-t}(t,n);case"*":return function(e,t){return e*t}(t,n);case"/":return function(e,t){return 0!=t?e/t:"error"}(t,n);default:return null}}(r.pop(),r.pop(),e);"error"!=t?(t>=1e14?t=t.toExponential(10):t.toString().length>14&&(t=t.toFixed(3)),r.push(t)):alert("Error! you can't divide by 0")}function N(e){document.body.className=`body_theme${e}`,c.className=`title h1_theme${e}`,u.className=`theme theme${e}`,a.className=`toggle toggle_theme${e}`,s.className=`calc-display calc-display_theme${e}`,i.className=`display-input display-input_theme${e}`,d.className=`grid-buttons grid-buttons_theme${e}`,p.className=`btn equal equal_theme${e}`,h.className=`btn reset reset_theme${e}`,y.className=`btn del del_theme${e}`;for(let t=0;t<m.length;t++)"del"!=m[t].attributes[0].value&&"Enter"!=m[t].attributes[0].value&&"Backspace"!=m[t].attributes[0].value&&(m[t].className=`btn btn_theme${e}`)}window.addEventListener("keydown",(e=>{const t=document.querySelector(`button[data-key="${e.key}"]`);null!=t&&(g(t.attributes[0].value),b())})),e.addEventListener("click",(e=>{"data-key"==e.target.attributes[0].name&&(g(e.target.attributes[0].value),b())})),a.addEventListener("click",(e=>{"three"==e.target.id?(o.style="transform: translateX(49px)",N(3)):"two"==e.target.id?(o.style="transform: translateX(24px)",N(2)):(o.style="transform: translateX(0px)",N(1))}))})();